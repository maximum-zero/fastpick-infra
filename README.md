# π—οΈ FastPick Infrastructure

FastPick ν”„λ΅μ νΈλ” λ€κ·λ¨ νΈλν”½ ν™κ²½μ—μ„μ μ„±λ¥ λ³‘λ©μ„ μ •ν™•ν μ¬ν„ν•κ³  λ¶„μ„ν•κΈ° μ„ν•΄
κ° μ—­ν• μ„ λ¶„λ¦¬ν• μΈν”„λΌ κµ¬μ΅°λ΅ μ„¤κ³„λμ—μµλ‹λ‹¤.

λ¶€ν• ν…μ¤νΈ, μ• ν”λ¦¬μΌ€μ΄μ…, λ°μ΄ν„°λ² μ΄μ¤, λ¨λ‹ν„°λ§ ν™κ²½μ„ λ…λ¦½μ μΌλ΅ κµ¬μ„±ν•μ—¬
μμ› κ°„μ„­μ„ μµμ†ν™”ν•κ³  μ„±λ¥ μ§€ν‘μ μ‹ λΆ°λ„λ¥Ό ν™•λ³΄ν•λ” λ° μ΄μ μ„ λ§μ·„μµλ‹λ‹¤.

## π§© μΈν”„λΌ κµ¬μ„± κ°μ”

```text
PC
 β”β”€ Jenkins (CI)
 β””β”€ K6 (Load Test)

VM1
 β””β”€ Nginx + Application Server

VM2
 β””β”€ PostgreSQL + Redis

VM3
 β””β”€ Prometheus + Grafana
```

κ° κµ¬μ„± μ”μ†λ” Docker κΈ°λ°μΌλ΅ μ‹¤ν–‰λλ©°,
μ—­ν•  λ‹¨μ„λ΅ λ¶„λ¦¬λ ν™κ²½μ—μ„ λ…λ¦½μ μΌλ΅ λ°°ν¬ λ° μ΄μλ©λ‹λ‹¤.

### π–¥οΈ CI ν™κ²½ (PC)

#### pc-jenkins/

```text
pc-jenkins/
- .env
- docker-compose.yml
```

**μ—­ν• **

- Jenkinsλ¥Ό Dockerλ΅ κµ¬μ„±ν• CI ν™κ²½
- μ• ν”λ¦¬μΌ€μ΄μ… λΉλ“, ν…μ¤νΈ, λ°°ν¬ μλ™ν™” μν–‰

**μ„¤κ³„ μλ„**

- CI ν™κ²½μ„ μ„λΉ„μ¤ VMκ³Ό λ¶„λ¦¬ν•μ—¬ μ‹¤ν— ν™κ²½κ³Ό λΉλ“ ν™κ²½ κ°„μ μμ› κ°„μ„­ λ°©μ§€
- λ΅μ»¬ ν™κ²½μ—μ„λ„ μ¬ν„ κ°€λ¥ν• CI νμ΄ν”„λΌμΈ κµ¬μ„±

### π§ λ¶€ν• ν…μ¤νΈ ν™κ²½ (PC)

#### performance-test/

```text
performance-test/
- scripts/
  - coupon-issue-test.js
  - coupon-search-test.js
  - users.csv
```

**μ—­ν• **

- K6 κΈ°λ° λ¶€ν• ν…μ¤νΈ μ‹¤ν–‰
- μΏ ν° μ΅°ν λ° λ°κΈ‰ μ‹λ‚λ¦¬μ¤μ— λ€ν• μ™Έλ¶€ νΈλν”½ μƒμ„±

**μ„¤κ³„ μλ„**

- μ• ν”λ¦¬μΌ€μ΄μ… μ„λ²„μ™€ λ¶„λ¦¬λ μ™Έλ¶€ λ¶€ν• λ°μƒκΈ° κµ¬μ„±
- μ‹¤μ  μ΄μ ν™κ²½κ³Ό μ μ‚¬ν• λ„¤νΈμ›ν¬ μ΅°κ±΄μ—μ„ μ„±λ¥ λ³‘λ© μ¬ν„

### π€ μ• ν”λ¦¬μΌ€μ΄μ… μ„λ²„ (VM1)

#### vm1-app/

```text
vm1-app/
- nginx/conf.d/default.conf
- .env
- docker-compose.yml
```

**μ—­ν• **

- Nginx Reverse Proxy
- Spring Boot κΈ°λ° μ• ν”λ¦¬μΌ€μ΄μ… μ„λ²„ μ‹¤ν–‰

**μ„¤κ³„ μλ„**

- νΈλν”½ μ§„μ… μ§€μ κ³Ό μ• ν”λ¦¬μΌ€μ΄μ… λ΅μ§ λ¶„λ¦¬
- Reverse Proxy μ„¤μ • λ³€κ²½κ³Ό μ• ν”λ¦¬μΌ€μ΄μ… λ°°ν¬ λ¶„λ¦¬
- λ‹¨μΌ μ„λ²„ ν™κ²½μ—μ„μ μ²λ¦¬ ν•κ³„ λ° λ³‘λ© μ§€μ  λ…ν™•ν™”

### π—„οΈ λ°μ΄ν„°λ² μ΄μ¤ μ„λ²„ (VM2)

#### vm2-db/

```text
vm2-db/
- .env
- docker-compose.yml
```

**μ—­ν• **

- PostgreSQL (λ°μ΄ν„°λ² μ΄μ¤)
- Redis (μΊμ‹ λ° λ™μ‹μ„± μ μ–΄)

**μ„¤κ³„ μλ„**

- DB μμ›μ„ μ• ν”λ¦¬μΌ€μ΄μ… μ„λ²„μ™€ λ¶„λ¦¬ν•μ—¬ CPU, I/O κ²½ν•© μµμ†ν™”
- λ™μ‹μ„± μ μ–΄ λ° μ„±λ¥ μ‹¤ν— κ²°κ³Όμ μ‹ λΆ°λ„ ν™•λ³΄

### π“ λ¨λ‹ν„°λ§ μ„λ²„ (VM3)

#### vm3-monitoring/

```text
vm3-monitoring/
- prometheus/
  - prometheus.yml
- .env
- docker-compose.yml
```

**μ—­ν• **

- Prometheus: λ©”νΈλ¦­ μμ§‘
- Grafana: λ©”νΈλ¦­ μ‹κ°ν™”

**μ„¤κ³„ μλ„**

- λ¨λ‹ν„°λ§ ν™κ²½μ„ μ„λΉ„μ¤ μ„λ²„μ™€ λ¶„λ¦¬ν•μ—¬ μ„±λ¥ μΈ΅μ • μ‹ μ¤λ²„ν—¤λ“ μ κ±°
- CPU, λ©”λ¨λ¦¬, μ»¤λ„¥μ…, Active Session λ“± μ§€ν‘ μ‹¤μ‹κ°„ λ¶„μ„

## π― μΈν”„λΌ μ„¤κ³„ ν•µμ‹¬ ν¬μΈνΈ

- μ—­ν•  λ‹¨μ„ VM λ¶„λ¦¬
  - λ¶€ν• ν…μ¤νΈ / μ• ν”λ¦¬μΌ€μ΄μ… / DB / λ¨λ‹ν„°λ§ λ…λ¦½ κµ¬μ„±
- μμ› κ°„μ„­ μµμ†ν™”
  - μ„±λ¥ λ³‘λ© μ›μΈμ„ λ…ν™•ν κ΄€μΈ΅ κ°€λ¥
- μ¬ν„ κ°€λ¥ν• μ‹¤ν— ν™κ²½
  - λ™μΌν• μΈν”„λΌ κµ¬μ„±μΌλ΅ λ°λ³µ ν…μ¤νΈ κ°€λ¥
- ν¬νΈν΄λ¦¬μ¤ λ©μ μ— λ§μ¶ ν„μ‹¤μ μΈ λ‹¨μΌ μ„λ²„ κµ¬μ΅°

## π§ μ΄ μΈν”„λΌ ν™κ²½μ—μ„ κ²€μ¦λ μ‹¤ν—

λ³Έ μΈν”„λΌ κµ¬μ„±μ€ μ•„λ λ°±μ—”λ“ μ„±λ¥ μ‹¤ν—μ„ μ¬ν„ν•κ³ 
μ§€ν‘λ¥Ό κ²€μ¦ν•κΈ° μ„ν•΄ μ‚¬μ©λμ—μµλ‹λ‹¤.

- [λ€κ·λ¨ λ°μ΄ν„° μ΅°ν μ„±λ¥ νλ‹](https://www.notion.so/2fc55588581980c3bebee8aa571b661e?source=copy_link)
- [μ‹¤μ‹κ°„ μΏ ν° λ°κΈ‰ λ™μ‹μ„± μ μ–΄](https://www.notion.so/2fc55588581980d4b637f5ea13085351?source=copy_link)

## π”— Related Repositories

- π€ Backend API Server
  - [FastPick Backend Repository](https://github.com/maximum-zero/fastpick-be)

- π¨ Frontend Application
  - [FastPick Frontend Repository](https://github.com/maximum-zero/fastpick-fe)
